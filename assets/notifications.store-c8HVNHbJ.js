import{r as f}from"./chunk-XJI4KG32-BUsIIvMu.js";import{r as d}from"./random-id-CQPYUG5g.js";function l(t){let o=t,n=!1;const e=new Set;return{getState(){return o},updateState(i){o=typeof i=="function"?i(o):i},setState(i){this.updateState(i),e.forEach(s=>s(o))},initialize(i){n||(o=i,n=!0)},subscribe(i){return e.add(i),()=>e.delete(i)}}}function S(t){return f.useSyncExternalStore(t.subscribe,()=>t.getState(),()=>t.getState())}function p(t,o,n){const e=[],i=[],s={};for(const c of t){const a=c.position||o;s[a]=s[a]||0,s[a]+=1,s[a]<=n?i.push(c):e.push(c)}return{notifications:i,queue:e}}const m=()=>l({notifications:[],queue:[],defaultPosition:"bottom-right",limit:5}),u=m(),x=(t=u)=>S(t);function r(t,o){const n=t.getState(),e=o([...n.notifications,...n.queue]),i=p(e,n.defaultPosition,n.limit);t.setState({notifications:i.notifications,queue:i.queue,limit:n.limit,defaultPosition:n.defaultPosition})}function h(t,o=u){const n=t.id||d();return r(o,e=>t.id&&e.some(i=>i.id===t.id)?e:[...e,{...t,id:n}]),n}function N(t,o=u){return r(o,n=>n.filter(e=>{var i;return e.id===t?((i=e.onClose)==null||i.call(e,e),!1):!0})),t}function g(t,o=u){return r(o,n=>n.map(e=>e.id===t.id?{...e,...t}:e)),t.id}function b(t=u){r(t,()=>[])}function q(t=u){r(t,o=>o.slice(0,t.getState().limit))}const E={show:h,hide:N,update:g,clean:b,cleanQueue:q,updateState:r};export{E as a,N as h,u as n,x as u};
