import{j as u}from"./jsx-runtime-BjG_zV1W.js";import{r as s}from"./chunk-K6CSEXPM-DPnDJ6bH.js";import{l,i as y,z as g}from"./polymorphic-factory-Bq4oe9Oi.js";import{r as b}from"./index-Cc--y-K9.js";const E=typeof document<"u"?s.useLayoutEffect:s.useEffect;function i(e,t){if(typeof e=="function")return e(t);typeof e=="object"&&e!==null&&"current"in e&&(e.current=t)}function x(...e){const t=new Map;return o=>{if(e.forEach(n=>{const r=i(n,o);r&&t.set(n,r)}),t.size>0)return()=>{e.forEach(n=>{const r=t.get(n);r?r():i(n,null)}),t.clear()}}}function C(...e){return s.useCallback(x(...e),e)}function c(e){const t=document.createElement("div");return t.setAttribute("data-portal","true"),typeof e.className=="string"&&t.classList.add(...e.className.split(" ").filter(Boolean)),typeof e.style=="object"&&Object.assign(t.style,e.style),typeof e.id=="string"&&t.setAttribute("id",e.id),t}function P({target:e,reuseTargetNode:t,...o}){if(e)return typeof e=="string"?document.querySelector(e)||c(o):e;if(t){const n=document.querySelector("[data-mantine-shared-portal-node]");if(n)return n;const r=c(o);return r.setAttribute("data-mantine-shared-portal-node","true"),document.body.appendChild(r),r}return c(o)}const j={},d=l((e,t)=>{const{children:o,target:n,reuseTargetNode:r,...f}=y("Portal",j,e),[m,p]=s.useState(!1),a=s.useRef(null);return E(()=>(p(!0),a.current=P({target:n,reuseTargetNode:r,...f}),i(t,a.current),!n&&!r&&a.current&&document.body.appendChild(a.current),()=>{!n&&!r&&a.current&&document.body.removeChild(a.current)}),[n]),!m||!a.current?null:b.createPortal(u.jsx(u.Fragment,{children:o}),a.current)});d.displayName="@mantine/core/Portal";const N=l(({withinPortal:e=!0,children:t,...o},n)=>g()==="test"||!e?u.jsx(u.Fragment,{children:t}):u.jsx(d,{ref:n,...o,children:t}));N.displayName="@mantine/core/OptionalPortal";export{N as O,C as a,E as u};
