import{j as e}from"./jsx-runtime-BjG_zV1W.js";import{r as h}from"./chunk-GNGMS2XR-D0nGIQkJ.js";import{h as T,i as _,j as k,B as y,m as N,o as $,l as B,u as H}from"./polymorphic-factory-YA6n3l9L.js";import{g as w}from"./use-reduced-motion-Ck44RFb_.js";import{L as D}from"./Loader-4rPXMr8X.js";import{O as P}from"./Overlay-heBIPS1b.js";import{T as F}from"./Stack-CzsZRHDP.js";var R={root:"m_9e117634"};const M={},V=N((a,{radius:s,fit:o})=>({root:{"--image-radius":s===void 0?void 0:$(s),"--image-object-fit":o}})),b=T((a,s)=>{const o=_("Image",M,a),{classNames:t,className:v,style:f,styles:g,unstyled:n,vars:x,onError:i,src:l,radius:r,fit:O,fallbackSrc:j,mod:p,...m}=o,[c,d]=h.useState(!l);h.useEffect(()=>d(!l),[l]);const u=k({name:"Image",classes:R,props:o,className:v,style:f,classNames:t,styles:g,unstyled:n,vars:x,varsResolver:V});return c&&j?e.jsx(y,{component:"img",ref:s,src:j,...u("root"),onError:i,mod:["fallback",p],...m}):e.jsx(y,{component:"img",ref:s,...u("root"),src:l,onError:I=>{i==null||i(I),d(!0)},mod:p,...m})});b.classes=R;b.displayName="@mantine/core/Image";var E={root:"m_6e45937b",loader:"m_e8eb006c",overlay:"m_df587f17"};const S={transitionProps:{transition:"fade",duration:0},overlayProps:{backgroundOpacity:.75},zIndex:w("overlay")},W=N((a,{zIndex:s})=>({root:{"--lo-z-index":s==null?void 0:s.toString()}})),L=B((a,s)=>{const o=_("LoadingOverlay",S,a),{classNames:t,className:v,style:f,styles:g,unstyled:n,vars:x,transitionProps:i,loaderProps:l,overlayProps:r,visible:O,zIndex:j,...p}=o,m=H(),c=k({name:"LoadingOverlay",classes:E,props:o,className:v,style:f,classNames:t,styles:g,unstyled:n,vars:x,varsResolver:W}),d={...S.overlayProps,...r};return e.jsx(F,{transition:"fade",...i,mounted:!!O,children:u=>e.jsxs(y,{...c("root",{style:u}),ref:s,...p,children:[e.jsx(D,{...c("loader"),unstyled:n,...l}),e.jsx(P,{...d,...c("overlay"),darkHidden:!0,unstyled:n,color:(r==null?void 0:r.color)||m.white}),e.jsx(P,{...d,...c("overlay"),lightHidden:!0,unstyled:n,color:(r==null?void 0:r.color)||m.colors.dark[5]})]})})});L.classes=E;L.displayName="@mantine/core/LoadingOverlay";const Q=a=>{let[s,o]=h.useState(!1);return e.jsxs(y,{pos:"relative",children:[e.jsx(L,{visible:!s,pos:"absolute",overlayProps:{backgroundOpacity:0}}),e.jsx(b,{onLoad:()=>o(!0),onError:()=>o(!0),ref:t=>{t!=null&&t.complete&&o(!0)},...a})]})};export{Q as I};
